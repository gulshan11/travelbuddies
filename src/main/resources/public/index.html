<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Manage Rides</title>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Rubik:400,700'>
<link rel="stylesheet" href="../css/style.css">
</head>
<style>
 
* {box-sizing: border-box;}

body { 
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
    background-image: url('../img/login_car.jpg');
  background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed;
    
}

.header {
  overflow: hidden;
  background-color: #949494;;
  padding: 20px 10px;
}

.header a {
  float: left;
  color: white;
  text-align: center;
  padding: 12px;
  text-decoration: none;
  font-size: 18px; 
  line-height: 25px;
  border-radius: 4px;
}

.header a.logo {
  font-size: 25px;
  font-weight: bold;
}

.header a:hover {
  background-color: #ddd;
  color: black;
}

.header a.active {
  background-color: dodgerblue;
  color: white;
}

.header-right {
  float: right;
}

@media screen and (max-width: 500px) {
  .header a {
    float: none;
    display: block;
    text-align: left;
  }
  
  .header-right {
    float: none;
  }
} 
</style>
</head>
<body>

<div class="header">
  <a href="/home" class="logo">Travel Buddies</a>
  <div class="header-right">
    <a  href="/home">Home</a>
    <a href="/manage">Manage Rides</a>
    <a href="/logout">Logout</a>
  </div>
</div>

<div class="login-form">
  <form method="post" id='login_form'>
    <h1>Login</h1>
    <div class="content">
      <div class="input-field">
        <input name="uname" type="email" placeholder="Email" autocomplete="nope">
      </div>
      <div class="input-field">
        <input name="psw" type="password" placeholder="Password" autocomplete="new-password">
      </div>
      <a href="#" class="link">Forgot Your Password?</a>
    </div>
    <div class="action">
      <button onclick="loginUser();">Sign in</button>
      <button onclick="createUser();">Create</button> 
    </div>
  </form>
</div>
<input type="hidden" id="status" value="${status}">
 <script type="text/javascript">
 function createUser()
 {
  var form=document.getElementById('login_form');
  form.setAttribute('action',"/create");
  form.submit();       
 }
 function loginUser()
 {
  var form=document.getElementById('login_form');
  form.setAttribute('action',"/home");
  form.submit();       
 }
 
 function getCookie(cname) {
	  let name = cname + "=";
	  let ca = document.cookie.split(';');
	  for(let i = 0; i < ca.length; i++) {
	    let c = ca[i];
	    while (c.charAt(0) == ' ') {
	      c = c.substring(1);
	    }
	    if (c.indexOf(name) == 0) {
	      return c.substring(name.length, c.length);
	    }
	  }
	  return "";
	}
 
 let status = getCookie("status"); 
 if (status == "createSuccess") {
   alert("User created successfully..");
 }
 if (status == "logonFailed") {
	   alert("Login Authentication Failed..");
	 }
 </script>
</body>
</html>
